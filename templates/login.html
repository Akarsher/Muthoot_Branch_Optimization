<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Login | The Muthoot Group</title>
  <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
  <div class="login-wrapper">

    <!-- Logo Banner -->
    <div class="banner">
      <img src="/static/images/Logo.png" alt="The Muthoot Group Logo">
    </div>

    <!-- Login Box -->
    <div class="login-box">
      {% if error %}<div class="error">{{ error }}</div>{% endif %}
      <form class="login-form" method="POST" action="/login">
        <label for="username" id="username-label">Username</label>
        <input id="username" name="username" type="text" required autocomplete="username">

        <label for="password">Password</label>
        <input id="password" name="password" type="password" required autocomplete="current-password">

        <label for="role">Role</label>
        <select id="role" name="role">
          <option value="auditor">Auditor</option>
          <option value="admin">Admin</option>
          <option value="manager">Branch Manager</option>
        </select>

        <button type="submit">Login</button>
      </form>
    </div>

    <!-- Register Link -->
    <div class="register-link">
      <a href="/register_manager">Register as Branch Manager</a>
    </div>
  </div>

  <script>
    (function() {
      const roleSel = document.getElementById('role');
      const userLabel = document.getElementById('username-label');
      const userInput = document.getElementById('username');
      function update() {
        if (roleSel.value === 'manager') {
          userLabel.textContent = 'Manager Name';
          userInput.placeholder = 'Enter your registered name';
        } else {
          userLabel.textContent = 'Username';
          userInput.placeholder = '';
        }
      }
      roleSel.addEventListener('change', update);
      update();
    })();
  </script>
</body>
</html>
